@model Products

<form asp-controller="Product" asp-action="Create" method="post" enctype="multipart/form-data">
    <label for="exampleFormControlImput1" class="form-label">Image</label>
    <div class="mb-3">
        <img id="img-preview" src="https://ami-sni.com/wp-content/themes/consultix/images/no-image-found-360x250.png"/>
        <div>
            <input type="file" asp-for=File accept="image/*" onchange="readURL(this)" />
            <span asp-validation-for="File" class="color-red"></span>
        </div>
    </div>
    <div class="mb-3">
        <label for="exampleFormControlImput1" class="form-label">Product Name</label>
    </div>
    <div>
        <input asp-for="Name" type="text" class="form-control">
        <span asp-validation-for="Name" class="color-red"></span>
    </div>
    <label for="exampleFormControlImput1" class="form-label">Price</label>

    <div>
        <input asp-for="Price" type="text" class="form-control">
        <span asp-validation-for="Price" class="color-red"></span>
    </div>
    <label for="exampleFormControlImput1" class="form-label">Category</label>

    <div>
        <select class="form-control" asp-for="CategoriesId">
        @foreach (var item in ViewBag.Category)
        {
            
             <option value="@item.Id"> @item.Name </option>
        }
        </select>
        <span asp-validation-for="Categories" class="color-red"></span>
    </div>
    <button class="btn btn-success">Submit</button>
</form>
@section Script{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"> </script>
    //Change this to your no-image file
let noimage =
  "https://ami-sni.com/wp-content/themes/consultix/images/no-image-found-360x250.png";

function readURL(input) {
  console.log(input.files);
  if (input.files && input.files[0]) {
    var reader = new FileReader();
    reader.onload = function (e) {
      $("#img-preview").attr("src", e.target.result);
    };

    reader.readAsDataURL(input.files[0]);
  } else {
    $("#img-preview").attr("src", noimage);
  }
}

}
